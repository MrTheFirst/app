

//- Include helpers

include ../../node_modules/bempug/index
include ../../core/temp/blocks
include ./bem


//- New line for pretty output

- var n = global.newLine, nn = n + n, nnn = n + n + n;


//- Page data

block data


//- Layout

if !page
	block content
else
	doctype
	+b( 'html', 'no-js' )(lang=global.app.lang)
		+head
		+b( 'page', page.bem )


			//- Preloader

			if global.app.preloader

				= nn
				// Preloader 
				+e( 'preloader', 'active' )


			//- Content

			block content


			//- Scripts
			= nnn

			if global.app.jquery

				// jQuery 
				script(src='https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js')

				= n

			- page.scripts.push( ( global.jsBundles ? page.path : 'app' ) + ( global.isDevelopment ? '.js' : '.min.js' ) );


			// Scripts 
			each src in page.scripts
				script(src=( BEMPUG.isExternal( src ) ? src : global.paths.scripts + src ))


			= nn

